---
title: Знакомство с модулем Az для Azure PowerShell
description: Знакомством с новым модулем Az для Azure PowerShell, который заменяет модуль AzureRM.
ms.date: 05/10/2019
author: sptramer
ms.author: sttramer
ms.manager: carmonm
ms.devlang: powershell
ms.topic: conceptual
ms.openlocfilehash: da1d7ec9a196068db237d871834b92f8b077b42c
ms.sourcegitcommit: 6c0d296bfec7c1c35a1d15074ca5eacda6684ea4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "68657609"
---
# <a name="introducing-the-new-azure-powershell-az-module"></a><span data-ttu-id="23d6b-103">Знакомство с новым модулем Az для Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="23d6b-103">Introducing the new Azure PowerShell Az module</span></span>

<span data-ttu-id="23d6b-104">Начиная с декабря 2018 года модуль Az для Azure PowerShell есть в общедоступном выпуске и теперь является предполагаемым модулем PowerShell для работы с Azure.</span><span class="sxs-lookup"><span data-stu-id="23d6b-104">Starting in December 2018, the Azure PowerShell Az module is in general release and now the intended PowerShell module for interacting with Azure.</span></span> <span data-ttu-id="23d6b-105">Модуль Az предлагает более короткие имена команд, улучшенную стабильность, а также кроссплатформенную поддержку.</span><span class="sxs-lookup"><span data-stu-id="23d6b-105">Az offers shorter commands, improved stability, and cross-platform support.</span></span> <span data-ttu-id="23d6b-106">Az также обеспечивает равенство функций с модулем AzureRM и предлагает простой метод миграции со старого модуля.</span><span class="sxs-lookup"><span data-stu-id="23d6b-106">Az also offers feature parity and an easy migration path from AzureRM.</span></span>

<span data-ttu-id="23d6b-107">Благодаря модулю Az среда Azure PowerShell теперь совместима с PowerShell 5.1 в Windows и PowerShell Core 6.x и более поздней версии на всех поддерживаемых платформах, включая Windows, macOS и Linux.</span><span class="sxs-lookup"><span data-stu-id="23d6b-107">With the Az module, Azure PowerShell is now compatible with PowerShell 5.1 on Windows and PowerShell Core 6.x and later on all supported platforms - including Windows, macOS, and Linux.</span></span>

<span data-ttu-id="23d6b-108">Az — это новый модуль, поэтому нумерация версий начинается с 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="23d6b-108">Az is a new module, so the version has been reset to 1.0.0.</span></span>

## <a name="why-a-new-module"></a><span data-ttu-id="23d6b-109">Преимущества нового модуля</span><span class="sxs-lookup"><span data-stu-id="23d6b-109">Why a new module?</span></span>

<span data-ttu-id="23d6b-110">Значительные обновления могут быть сопряжены со сложностями, поэтому важно узнать, почему было принято решение представить новый набор модулей с новыми командлетами для взаимодействия с Azure через PowerShell.</span><span class="sxs-lookup"><span data-stu-id="23d6b-110">Major updates can be inconvenient, so it's important that we let you know why the decision was made to introduce a new set of modules, with new cmdlets, for interacting with Azure from PowerShell.</span></span>

<span data-ttu-id="23d6b-111">Самое большое и важное изменение заключается в том, что PowerShell стал кроссплатформенным продуктом с момента появления [PowerShell Core 6.x](/powershell/scripting/overview) на основе библиотеки .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="23d6b-111">The biggest and most important change is that PowerShell has been a cross-platform product since the introduction of [PowerShell Core 6.x](/powershell/scripting/overview), based on the .NET Standard library.</span></span>
<span data-ttu-id="23d6b-112">Мы стремимся обеспечить поддержку Azure на всех платформах. Это означает, что модули Azure PowerShell необходимо обновить для использования .NET Standard и совместимости с PowerShell Core.</span><span class="sxs-lookup"><span data-stu-id="23d6b-112">We're committed to bringing Azure support to all platforms, which means that the Azure PowerShell modules needed to be updated to use .NET Standard and be compatible with PowerShell Core.</span></span> <span data-ttu-id="23d6b-113">Вместо того чтобы вносить в существующий модуль AzureRM сложные изменения для добавления этой поддержки, был создан модуль Az.</span><span class="sxs-lookup"><span data-stu-id="23d6b-113">Rather than taking the existing AzureRM module and introduce complex changes to add this support, the Az module was created.</span></span>

<span data-ttu-id="23d6b-114">Это решение также дало нашим инженерам возможность согласовать проектирование и именование командлетов и модулей.</span><span class="sxs-lookup"><span data-stu-id="23d6b-114">Creating a new module also gave our engineers the opportunity to make the design and naming of cmdlets and modules consistent.</span></span> <span data-ttu-id="23d6b-115">Все модули теперь начинаются с префикса `Az.`, а все командлеты используют форму _команда_-`Az`_существительное_.</span><span class="sxs-lookup"><span data-stu-id="23d6b-115">All modules now start with the `Az.` prefix and cmdlets all use the _Verb_-`Az`_Noun_ form.</span></span> <span data-ttu-id="23d6b-116">Ранее имена командлетов не только были длиннее, но и в них были несоответствия.</span><span class="sxs-lookup"><span data-stu-id="23d6b-116">Previously, cmdlet names were not only longer, there were inconsistencies in cmdlet names.</span></span>

<span data-ttu-id="23d6b-117">Количество модулей уменьшилось. Некоторые модули, которые работали с одинаковыми службами, были объединены, а командлеты плоскости управления и плоскости данных теперь содержатся в едином модуле для работы с соответствующими службами.</span><span class="sxs-lookup"><span data-stu-id="23d6b-117">The number of modules was also reduced: Some modules which worked with the same services have been rolled together, and management plane and data plane cmdlets are now contained all within single modules for their services.</span></span> <span data-ttu-id="23d6b-118">Это упрощает задачу для тех, кто вручную управляет зависимостями и импортом.</span><span class="sxs-lookup"><span data-stu-id="23d6b-118">For those of you who manually manage dependencies and imports, this makes things much simpler.</span></span>

<span data-ttu-id="23d6b-119">Выполняя эти важные изменения, которые привели к созданию модуля Azure PowerShell, команда стремилась максимально упростить использование Azure с помощью командлетов PowerShell и добавить поддержку большего количества платформ, чем ранее.</span><span class="sxs-lookup"><span data-stu-id="23d6b-119">By making these important changes that required building a new Azure PowerShell module, the team has committed to making it easier than ever, and on more platforms than previously possible, to use Azure with PowerShell cmdlets.</span></span>

## <a name="upgrade-to-az"></a><span data-ttu-id="23d6b-120">Обновление до Az</span><span class="sxs-lookup"><span data-stu-id="23d6b-120">Upgrade to Az</span></span>

<span data-ttu-id="23d6b-121">Для поддержки новых функций Azure в PowerShell необходимо как можно скорее перейти на модуль Az.</span><span class="sxs-lookup"><span data-stu-id="23d6b-121">To keep up with the latest Azure features in PowerShell, you should migrate to the Az module as soon as possible.</span></span> <span data-ttu-id="23d6b-122">Если вы не готовы установить модуль Az в качестве замены AzureRM, вам доступны несколько способов экспериментирования с Az.</span><span class="sxs-lookup"><span data-stu-id="23d6b-122">If you're not ready to install the Az module as a replacement for AzureRM, you have a couple of options available to experiment with Az:</span></span>

* <span data-ttu-id="23d6b-123">Использование среды `PowerShell` с [Azure Cloud Shell](https://docs.microsoft.com/en-us/azure/cloud-shell/overview).</span><span class="sxs-lookup"><span data-stu-id="23d6b-123">Use a `PowerShell` environment with [Azure Cloud Shell](https://docs.microsoft.com/en-us/azure/cloud-shell/overview).</span></span>
  <span data-ttu-id="23d6b-124">Azure Cloud Shell — это браузерная среда оболочки, которая поставляется с пакетом установки модуля Az и поддерживает псевдонимы совместимости `Enable-AzureRM`.</span><span class="sxs-lookup"><span data-stu-id="23d6b-124">Azure Cloud Shell is a browser-based shell environment which comes with the Az module installed and `Enable-AzureRM` compatibility aliases enabled.</span></span>
* <span data-ttu-id="23d6b-125">Оставив установленный модуль AzureRM с PowerShell 5.1 для Windows, установите модуль Az для PowerShell Core 6.x или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="23d6b-125">Keep the AzureRM module installed with PowerShell 5.1 for Windows, but install the Az module for PowerShell Core 6.x or later.</span></span> <span data-ttu-id="23d6b-126">PowerShell 5.1 для Windows и PowerShell Core используют отдельные коллекции модулей.</span><span class="sxs-lookup"><span data-stu-id="23d6b-126">PowerShell 5.1 for Windows and PowerShell Core use separate collections of modules.</span></span> <span data-ttu-id="23d6b-127">Следуйте инструкциям, чтобы [установить PowerShell Core](/powershell/scripting/install/installing-powershell-core-on-windows), а затем [установите модуль Az](install-az-ps.md) из терминала PowerShell Core.</span><span class="sxs-lookup"><span data-stu-id="23d6b-127">Follow the instructions to [install PowerShell Core](/powershell/scripting/install/installing-powershell-core-on-windows) and then [install the Az module](install-az-ps.md) from a PowerShell Core terminal.</span></span>

<span data-ttu-id="23d6b-128">Чтобы выполнить обновление из существующей установки AzureRM, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="23d6b-128">To upgrade from an existing AzureRM install:</span></span>

1. <span data-ttu-id="23d6b-129">[Удалите модуль AzureRM для Azure PowerShell](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module).</span><span class="sxs-lookup"><span data-stu-id="23d6b-129">[Uninstall the Azure PowerShell AzureRM module](/powershell/azure/uninstall-az-ps#uninstall-the-azurerm-module)</span></span>
2. <span data-ttu-id="23d6b-130">[Установите модуль Az для Azure PowerShell](install-az-ps.md).</span><span class="sxs-lookup"><span data-stu-id="23d6b-130">[Install the Azure PowerShell Az module](install-az-ps.md)</span></span>
3. <span data-ttu-id="23d6b-131">__НЕОБЯЗАТЕЛЬНО__. Активируйте режим совместимости, чтобы добавить псевдонимы для командлетов AzureRM с помощью [Enable-AzureRMAlias](/powershell/module/az.accounts/enable-azurermalias), пока вы не ознакомитесь с новым набором команд.</span><span class="sxs-lookup"><span data-stu-id="23d6b-131">__OPTIONAL__: Enable compatibility mode to add aliases for AzureRM cmdlets with [Enable-AzureRMAlias](/powershell/module/az.accounts/enable-azurermalias) while you become familiar with the new command set.</span></span> <span data-ttu-id="23d6b-132">Дополнительные сведения см. в следующем разделе или в статье [Перенос Azure PowerShell с AzureRM на Az](migrate-from-azurerm-to-az.md).</span><span class="sxs-lookup"><span data-stu-id="23d6b-132">See the next section or [Start migration from AzureRM to Az](migrate-from-azurerm-to-az.md) for more details.</span></span>

## <a name="migrate-existing-scripts-to-az"></a><span data-ttu-id="23d6b-133">Миграция существующих скриптов на Az</span><span class="sxs-lookup"><span data-stu-id="23d6b-133">Migrate existing scripts to Az</span></span>

<span data-ttu-id="23d6b-134">Новые имена командлетов выбраны таким образом, чтобы их было легко запомнить.</span><span class="sxs-lookup"><span data-stu-id="23d6b-134">The new cmdlet names have been designed to be easy to learn.</span></span> <span data-ttu-id="23d6b-135">Вместо имен командлетов `AzureRm` или `Azure` используйте `Az`.</span><span class="sxs-lookup"><span data-stu-id="23d6b-135">Instead of using `AzureRm` or `Azure` in cmdlet names, use `Az`.</span></span> <span data-ttu-id="23d6b-136">Например, вместо старой команды `New-AzureRMVm` используется `New-AzVm`.</span><span class="sxs-lookup"><span data-stu-id="23d6b-136">For example, the old command `New-AzureRMVm` has become `New-AzVm`.</span></span>
<span data-ttu-id="23d6b-137">При переносе вам нужно не просто ознакомиться с новыми именами командлетов. Были переименованы модули, параметры и внесено много других важных изменений.</span><span class="sxs-lookup"><span data-stu-id="23d6b-137">Migration is more than just becoming familiar with the new cmdlet names, though: There are renamed modules, parameters, and other important changes.</span></span>

<span data-ttu-id="23d6b-138">Чтобы упростить процесс перехода с AzureRM на Az, у нас есть ряд ресурсов:</span><span class="sxs-lookup"><span data-stu-id="23d6b-138">To help you with the process of migration from AzureRM to Az, we've got a number of resources:</span></span>

* [<span data-ttu-id="23d6b-139">Перенос Azure PowerShell с AzureRM на Az</span><span class="sxs-lookup"><span data-stu-id="23d6b-139">Get started with migration from AzureRM to Az</span></span>](migrate-from-azurerm-to-az.md)
* [<span data-ttu-id="23d6b-140">Полный список критических изменений между AzureRM и Az 1.0.0</span><span class="sxs-lookup"><span data-stu-id="23d6b-140">Full list of breaking changes from AzureRM to Az 1.0.0</span></span>](migrate-az-1.0.0.md)
* <span data-ttu-id="23d6b-141">Командлет [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias)</span><span class="sxs-lookup"><span data-stu-id="23d6b-141">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet</span></span>

<span data-ttu-id="23d6b-142">В модуле Az предусмотрен режим совместимости, который позволяет использовать существующие скрипты, пока вы выполняете обновление для нового синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="23d6b-142">The Az module has a compatibility mode to help you use existing scripts while you update to the new syntax.</span></span> <span data-ttu-id="23d6b-143">Командлет [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) активирует режим совместимости через псевдонимы, чтобы можно было использовать существующие скрипты с минимальными изменениями во время подготовки к полному переходу на Az.</span><span class="sxs-lookup"><span data-stu-id="23d6b-143">The [Enable-AzureRmAlias](/powershell/module/az.accounts/enable-azurermalias) cmdlet enables a compatibility mode through aliases, to allow you to use existing scripts with minimal modification while working towards a full migration to Az.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="23d6b-144">Несмотря на то что для имен командлетов используются псевдонимы, все же могут существовать новые (или переименованные) параметры или измененные возвращаемые значения для командлетов Az.</span><span class="sxs-lookup"><span data-stu-id="23d6b-144">Even though the cmdlet names are aliased, there may still be new (or renamed) parameters or changed return values for the Az cmdlets.</span></span> <span data-ttu-id="23d6b-145">Не ожидайте, что активация псевдонимов обеспечит миграцию для вас.</span><span class="sxs-lookup"><span data-stu-id="23d6b-145">Don't expect enabling aliases to take care of the migration for you!</span></span> <span data-ttu-id="23d6b-146">Ознакомьтесь с [полным списком критических изменений](migrate-az-1.0.0.md), чтобы узнать, где в скриптах могут потребоваться обновления.</span><span class="sxs-lookup"><span data-stu-id="23d6b-146">See the [full breaking changes list](migrate-az-1.0.0.md) to find where your scripts may require updates.</span></span>

## <a name="continued-support-for-azurerm"></a><span data-ttu-id="23d6b-147">Дальнейшая поддержка AzureRM</span><span class="sxs-lookup"><span data-stu-id="23d6b-147">Continued support for AzureRM</span></span>

<span data-ttu-id="23d6b-148">Существующий модуль AzureRM больше не будет получать новые командлеты или функции.</span><span class="sxs-lookup"><span data-stu-id="23d6b-148">The existing AzureRM module will no longer receive new cmdlets or features.</span></span> <span data-ttu-id="23d6b-149">Но AzureRM по-прежнему официально поддерживается и будет получать исправления ошибок по крайней мере до декабря 2020 г.</span><span class="sxs-lookup"><span data-stu-id="23d6b-149">However, AzureRM is still officially maintained and will get bug fixes up through at least December 2020.</span></span>

<span data-ttu-id="23d6b-150">Мы уверяем, что модуль Az является полнофункциональным, проверенным и готовым для рабочей среды. Все инженерные работы, проделанные для AzureRM, были сосредоточены на Az. Мы по максимуму повторно использовали код существующих модулей и выполнили всестороннее тестирование, чтобы сделать новые модули функционально совместимыми.</span><span class="sxs-lookup"><span data-stu-id="23d6b-150">If you have concerns about whether or not the Az module is as fully-featured, tested, or production ready: All of the engineering work that went into AzureRM has now been focused on Az, including as much code reuse of the existing modules as was possible, and extensive testing to make the new modules feature-compatible.</span></span> <span data-ttu-id="23d6b-151">Перемещение в Az должно быть запланировано вашей организацией без ожидания появления определенных функций.</span><span class="sxs-lookup"><span data-stu-id="23d6b-151">Moving onto Az should be influenced by your organization's schedule alone, without needing to wait on specific features to appear.</span></span>